{% extends "TopNavFarmer.html" %} {% load static %} {% block content %}

<style>
  /* From cssbuttons.io by @adamgiebl */
  #btn-change-status {
    background: #a5ff93;
    font-family: inherit;
    padding: 0.6em 1.3em;
    font-weight: 900;
    font-size: 18px;
    border: 3px solid black;
    border-radius: 0.4em;
    box-shadow: 0.1em 0.1em;
  }

  #btn-change-status:hover {
    transform: translate(-0.05em, -0.05em);
    box-shadow: 0.15em 0.15em;
  }

  #btn-change-status:active {
    transform: translate(0.05em, 0.05em);
    box-shadow: 0.05em 0.05em;
  }

  #btn-report-this-order {
    background: #fdff97;
    font-family: inherit;
    padding: 0.6em 1.3em;
    font-weight: 900;
    font-size: 18px;
    border: 3px solid black;
    border-radius: 0.4em;
    box-shadow: 0.1em 0.1em;
  }

  #btn-report-this-order:hover {
    transform: translate(-0.05em, -0.05em);
    box-shadow: 0.15em 0.15em;
  }

  #btn-report-this-order:active {
    transform: translate(0.05em, 0.05em);
    box-shadow: 0.05em 0.05em;
  }

  #btn-cancel-this-order {
    background: #ff8d8d;
    font-family: inherit;
    padding: 0.6em 1.3em;
    font-weight: 900;
    font-size: 18px;
    border: 3px solid black;
    border-radius: 0.4em;
    box-shadow: 0.1em 0.1em;
  }

  #btn-cancel-this-order:hover {
    transform: translate(-0.05em, -0.05em);
    box-shadow: 0.15em 0.15em;
  }

  #btn-cancel-this-order:active {
    transform: translate(0.05em, 0.05em);
    box-shadow: 0.05em 0.05em;
  }
</style>

<br><br>
<div class="container" style="background-color: white; ">
<br>

<div class="row border border-indigo-600" style="margin: 2%;">
  <div class="col-lg-1"></div>
  <div class="col-lg-4">
    <br>
    <img
    src="{{product_order.product_image.url}}"
    style="width: 100%; height: auto; align-items: center; padding: 1%;"
    ></img>
    <br><br>
  </div>
  
  <div class="col-lg-1"></div>
  <div class="col-lg-5 col-12">
    <br></br>
    <div class="row">
      <div class="col">
        <h3 style="color: brown;">
          {{product_order.product_name}}
        </h3>
      </div>

      {% if product_order.type_id_id == 2  %}
                {% if product_order.select_carving == 0 %}
                <div class="col">
                    <h5 style="color:#ea580c; align-items:center; border-width:4px; border-color: #ea580c; border-style: solid; padding: 1%;">
                    จอง
                    </h5>
                </div>
                {% endif %}

            {% if product_order.select_carving == 1 %}
                <div class="col">
                <h5 style="color:#166534; align-items:center; border-width:4px; border-color: #166534; border-style: solid; padding: 1%;">
                    แกะสลัก
                </h5>
                </div>
            {% endif %}

        {% endif %}




    </div>
    <div class="row">
      <div class="col">
       <br>
        <p style="color:#1f2937; text-align: left;">ขนาด : {{product_order.product_weight}} kg</p>
        <p style="color:#1f2937; text-align: left;">เนื้อ : {{product_order.melon_color}}</p>
        <p style="color:#1f2937; text-align: left;">
          จำนวนในคลัง : {{product_order.product_amount}}
        </p>
      </div>
      <div class="col">
        <br>
        <p style="color:#1f2937; text-align: left;">
          คุณภาพ : {{product_order.date_harvest}}
        </p>
        <p style="color:#1f2937; text-align: left;">ราคา : {{product_order.product_price}} ฿</p>
        <p style="color:#1f2937; text-align: left;">
          รอบตัด : {{product_order.date_harvest}}
        </p>
      </div>
    </div>
    <div class="col">
      <p style="color:#1f2937; text-align: left;">
        รายละเอียดสินค้า : {{product_order.product_description}}
      </p>
    </div>
  </div>
  <div class="col-lg-1"></div>
  <br>
</div>
<br>


<div class="row">
<div class="col-sm-1"> </div>
<div class="col-sm-3" style="padding: 1%;">
</div>

<div class="col-sm-1"> </div>
<div class="col-sm-7">
<form method="POST" action=""> 
    <div class="row g-4 align-items-center" style="padding: 1%; ">
    <div class="col-sm-1"></div>
    <div class="form-group col-sm-4">
      <div class="col-sm"><label class="form-label float-start">ค้นหา Username ลูกค้า</label></div>
      <input type="text" class="form-control  ml-3" id="inputSearch" name="inputSearch" placeholder="ใส่ Username" value="{{search_txt}}">
    </div>

    <div class="form-group col-sm-3">
        <div class="col-sm"><label class="form-label float-start" style="text-align: left;">ค้นหาประเภทสถานะ</label></div>
        <select class="form-control" name="input_type_state">
            <option>ทั้งหมด</option>
            {% for i in  type_state %}
            <option  value="{{ i.id }}" {% if input_type_state ==  i.id  %}selected{% endif %}>{{ i.state_name }}</option>
            {% endfor %}
          </select>
      </div>
    
      <div class="form-group col-sm">
        <div class="d-grid gap-2">
            <button type="submit" id="btn-search" class="btn col-sm-10  my-2 my-sm-0 ">ค้นหา</button>
        </div>
      </div>   
  <div class="col-sm-1"></div>
</div>
</form>
</div>
</div> 



<br></br>
<center>
<div class="col-sm-10">
  <table class="table table-borderless" style="margin: 1%;">
    <thead></thead>
    <tbody> 
      <tr style="background-color: #bfdbfe; text-align: center;">
        <th>
          <br>No.#<br>
        </th>
        <th>
          <br>รายการสั่งซื้อ<br>
        </th>
      </tr>



      {% if product_order.select_carving == 1 and product_order.type_id_id == 2 %}
      <tr style="background-color: #f9fafb;">
        <td> <h5 id="target-number">1</h5></td>
        <td>
          <div class="row">
            <div class="col-sm-6 col-md-6" style="text-align: left;">
              <p style="color: #16a34a; font-weight: bold;">
                Username : TestTerOne
              </p>
              <p style="color: #1f2937;">
                จำนวน : 1 <br>
                ราคาทั้งหมด : 250 <br>
                เบอร์โทร : 0123456789 <br>
                อีเมล : tester@test.com <br>
                ที่อยู่จัดส่ง : 1 ลาดกระบัง <br>
                รายละเอียด : แกะไม่จำเป็นต้องเหมือนมาก
                ของลายไม่คดมาก<br>
              </p>

              <img 
                src="{% static "img/muku.jpg" %}"
                id="img-order-carving"
              ></img>

            <br>
            </div>

            <div class="col-sm-2 col-md-6">
              <h5 id="target-status">
                เตรียมส่งสินค้า
            </h5>
            </div>
          </div>

          <br><br><br>
          <div class="row">
            <div class="col-sm-3 col-md-6">
              <a style="color: #991b1b; display:inline-block;"
              href="{% url 'payment_order'%}"
              >
                หลักฐานการโอนเงิน
              </a>
              <img
                src="{% static "icon/check.png" %}"
                width="30px"
                height="30px"
                id="payment-check"
              ></img>

              <br><br>
              <a
              class="col-sm-6 btn btn-outline-dark" 
              href="{% url 'orderPdf' id=product_order.id %}"
              >
              <img
              src="{% static "icon/print.png" %}"
              width="30px"
              height="30px"
              style="display:inline-block;"
            />
              พิมพ์ใบจัดส่ง (Invoice)</a>


              <br>
              <a
              class="col-sm-6 btn btn-outline-info "
              href="{% url 'chatroom' id=product_order.id %}"
              ><i class="bi bi-chat-dots"></i> การสนทนา</a>
            </div>

            <div class="col">
            
              <a class="col-12 btn btn-warning btn-lg btn-block mb-1" id="btn-change-status" href="" style="color: black;">
                
                <img src="{% static "icon/box.png" %}" width="30px" height="30px" style="display:inline-block;" />
                แจ้งเลขพัสดุ
              </a>
              <a class="col-12 btn btn btn-success btn-lg btn-block mb-1" id="btn-report-this-order" href="{% url 'report_order'%}" style="color: black;">
                
                <img src="{% static "icon/report.png" %}" width="30px" height="30px" style="display:inline-block;" />
                รายงานผลผลิต
              </a>
              <a class="col-12 btn btn-secondary btn-lg btn-block mb-1" id="btn-cancel-this-order" href="" style="color: black;">
                
                <img src="{% static "icon/cancel.png" %}" width="30px" height="30px" style="display:inline-block;" />
                ยกเลิกคำสั่งซื้อ
              </a>
            </div>
          </div>
          <hr>
        </td>
       
      </tr>


      {% elif product_order.select_carving == 0 and product_order.type_id_id == 2 %}
     

      <!-- {/* No.2 */} -->

      <tr  style="background-color: #f9fafb;">
        <td><h5 id="target-number">2</h5></td>
        <td>
          <div class="row">
            <div class="col-sm-6 col-md-6" style="text-align: left;">
              <p style="color: #16a34a; font-weight: bold;">
                Username : TestTerTwo
              </p>
              <p style="color: #1f2937;">
                จำนวน : 2 <br></br>
                ราคาทั้งหมด : 250 <br></br>
                เบอร์โทร : 0123456789 <br></br>
                อีเมล : tester2@test.com <br></br>
                ที่อยู่จัดส่ง : 2 ลาดกระบัง <br></br>
              </p>
            
              <img
              src="{% static "icon/print.png" %}"
              width="30px"
              height="30px"
              style="display:inline-block;"
            />

              <a
              class="col-sm-6 btn btn-dark "
              href="{% url 'orderPdf' id=product_order.id %}"
              >พิมพ์ใบจัดส่ง (Invoice)</a>
            
              <br></br><br>
            </div>
            <div class="col-sm-2 col-md-6">
              <h5 style="font-weight: bold; border-radius: 100px; background-color: #bbf7d0; text-align: center; padding: 2%;">                รอยืนยันคำสั่งซื้อ
              </h5>
            </div>
          </div>
          <div class="row">
            <div class="col-sm-3 col-md-6">
              <br></br>
              <a style="color: #991b1b; display:inline-block;"
                href="{% url 'payment_order'%}"
              >
                หลักฐานการโอนเงิน
              </a>
              <img
                src="{% static "icon/load.png" %}"
                width="30px"
                height="30px"
                style="padding: 5px; display:inline-block; margin: 5px; align-items: center;"
              ></img>
            
            </div>

            <div class="col">
              <a
                class="col-12  btn btn-light btn-lg btn-block"
                id="btn-change-status"                
                href=""
              >
                <img
                src="{% static "icon/harvest.png" %}"
                width="30px"
                height="30px"
                style="display:inline-block;"
                />
                เตรียมส่งสินค้า
              </a>
              <a
              class="col-12 btn btn-light btn-lg btn-block"
              id="btn-cancel-this-order"              
              href=""
              >
                <img
                src="{% static "icon/cancel.png" %}"
                width="30px"
                height="30px"
                style="display:inline-block;"
                />
                ยกเลิกคำสั่งซื้อ
              </a>
            </div>
          </div>
          <hr>
        </td>
     
      </tr>


      {% elif product_order.select_carving == 0 and product_order.type_id_id == 1  %}

      <!-- {/* No.3 */} -->

      <tr style="background-color: #f9fafb;">
        <td><h5 id="target-number">3</h5></td>
        <td>
          <div class="row">
            <div class="col-sm-6 col-md-6 text-left">
              <p class="text-2xl font-black  text-green-600 	">
                Username : TestTerThree
              </p>
              <p class="text-1xl text-gray-800 ">
                จำนวน : 3 <br></br>
                ราคาทั้งหมด : 450 <br></br>
                เบอร์โทร : 0123456789 <br></br>
                อีเมล : tester3@test.com <br></br>
                ที่อยู่จัดส่ง : 3 ลาดกระบัง <br></br>
              </p>
              <br></br>
            </div>
            <div class="col-sm-2 col-md-6">
              <h5 style="font-weight: bold; border-radius: 100px; background-color: #bbf7d0; text-align: center; padding: 2%;">                รอชำระเงิน
              </h5>
            </div>
          </div>

          <div class="row">
            <div class="col-sm-3 col-md-6">
              <br></br>
              <p
                href=""
                style="display:inline-block;"
              >
                หลักฐานการโอนเงิน
              </p>
              <img
              src="{% static "icon/load.png" %}"
              width="30px"
              height="30px"
              style="padding: 5px; display:inline-block; margin: 5px; align-items: center;"
              ></img>
            </div>

            <div class="col">
              <a
              class="col-12 btn btn-light btn-lg btn-block"
              id="btn-cancel-this-order"
              href=""
              >
                <img
                src="{% static "icon/cancel.png" %}"
                width="30px"
                height="30px"
                style="display:inline-block;"
                />
                ยกเลิกคำสั่งซื้อ
              </a>
            </div>
          </div>
          <hr>
        </td>
     
      </tr>

      {% endif %}

    </tbody>
  </table>
</div>
</center>

<br></br>  <br></br>

</div>


<br><br> <br><br>
{% endblock %}